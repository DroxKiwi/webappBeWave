{% extends 'base.html.twig' %}
{% set modepreference = preference %}

<!DOCTYPE html>

<html>
  {% block content %}

    <div class="container-fluid text-center">
      <h2>
        Page d'information de compte
      </h2>
      <div class="row">
        <div class="col">
          <h3>
              pseudo : {{ pseudo }}
              <button type="button" class="btn btn-outline-info" data-bs-toggle="modal" data-bs-target="#pseudoModal">Modifier</button>

              <br>
              email : {{ email }}
              <button type="button" style="margin-top: 10px;" class="btn btn-outline-info" data-bs-toggle="modal" data-bs-target="#emailModal">Modifier</button>
              <br>
              password : ***********
              <button type="button" style="margin-top: 10px;" class="btn btn-outline-info" data-bs-toggle="modal" data-bs-target="#passwordModal">Modifier</button>
              <br>
              {% if betatesterInfo %}
                <form action="/betatesterDelete" method="post">
                  <p>Vous êtes Bêta testeur</p>
                  <ul>
                  {% for infos in betatesterInfo %}
                      <li>
                        {{infos}}
                      </li>
                  {% endfor %}
                  </ul>
                  <button type="submit" class="btn btn-outline-warning">Se retirer</button>
                </form>
              {% endif %}
              <br>
              <button type="button" style="margin-top: 10px;" class="btn btn-outline-danger" data-bs-toggle="modal" data-bs-target="#deleteAccountModal">Supprimer mon compte !</button>
          </h3>

                                <!-- Button trigger modal -->

              <!-- Modal for pseudo -->
              <div class="modal fade" id="pseudoModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h1 class="modal-title fs-5" id="exampleModalLabel">Modification</h1>
                      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                      <form action="/updateaccount" method="post">
                        <div class="mb-3">
                          <label for="pseudo" class="form-label">Entrez votre nouveau pseudo</label>
                          <input type="text" class="form-control" id="pseudo" aria-describedby="idHelp" name="pseudo" required>
                        </div>
                        <button type="submit" class="btn btn-outline-success">Sauvegarder</button>
                      </form>
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-outline-danger" data-bs-dismiss="modal">Annuler</button>
                    </div>
                  </div>
                </div>
              </div>


              <!-- Modal for email -->
              <div class="modal fade" id="emailModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h1 class="modal-title fs-5" id="exampleModalLabel">Modification</h1>
                      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                      <form action="/updateaccount" method="post">
                        <div class="mb-3">
                          <label for="email" class="form-label">Entrez votre nouveau mail</label>
                          <input type="text" class="form-control" id="email" name="email" required>
                        </div>
                        <button type="submit" class="btn btn-outline-success">Sauvegarder</button>
                      </form>
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-outline-danger" data-bs-dismiss="modal">Annuler</button>
                    </div>
                  </div>
                </div>
              </div>
    

              <!-- Modal for password -->
              <div class="modal fade" id="passwordModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h1 class="modal-title fs-5" id="exampleModalLabel">Modification</h1>
                      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                      <form action="/updateaccount" method="post">
                        <div class="mb-3">
                          <label for="password" class="form-label">Entrez votre nouveau mot de passe</label>
                          <input type="password" class="form-control" id="password" name="password" required>
                        </div>
                        <button type="submit" class="btn btn-outline-success">Sauvegarder</button>
                      </form>
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-outline-danger" data-bs-dismiss="modal">Annuler</button>
                    </div>
                  </div>
                </div>
              </div>


              <!-- Modal for delete account -->
              <div class="modal fade" id="deleteAccountModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h1 class="modal-title fs-5" id="exampleModalLabel">Delete Account</h1>
                      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                      <form action="/deteleaccount" method="post">
                        <button type="submit" class="btn btn-outline-success">Confirmer</button>
                      </form>
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-outline-danger" data-bs-dismiss="modal">Annuler</button>
                    </div>
                  </div>
                </div>
              </div>
        </div>
      </div>

      {% include 'Components/sidemenu.html.twig' %}

    </div>
  {% endblock %}
</html>